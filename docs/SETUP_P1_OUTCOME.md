# Настройка П1 (Победа первой команды) в Payload

## Пошаговая инструкция с названиями полей из админки

### Шаг 1: Создание маркета "Основной исход"

Перейдите в **Рынки ставок** → **Создать новый**

#### Заполните поля:

```
┌─────────────────────────────────────────────────────────────┐
│ РЫНОК СТАВОК                                                │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ Название маркета *                                          │
│ ┌───────────────────────────────────────────���──────────────┐│
│ │ Основной исход                                           ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Выберите группы исходов для этого маркета                  │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ [Выберите группу исходов]                                ││
│ │ → Основные исходы                                        ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ ┌─ ЛЕВАЯ ЧАСТЬ (МЕТРИКА) ──────────────────────────────────┐│
│ │                                                           ││
│ │ Поле статистики (statPath) *                             ││
│ │ ┌─────────────────────────────────────────────────────┐ ││
│ │ │ ▼ Исход матча                                       │ ││
│ │ └─────────────────────────────────────────────────────┘ ││
│ │                                                           ││
│ │ Тип статистики (statType) *                              ││
│ │ ┌─────────────────────────────────────────────────────┐ ││
│ │ │ ▼ Исход матча (П1/Х/П2)                             │ ││
│ │ └─────────────────────────────────────────────────────┘ ││
│ │                                                           ││
│ └───────────────────────────────────────────────────────────┘│
│                                                              │
│ [Сохранить]                                                 │
└─────────────────────────────────────────────────────────────┘
```

**Что выбрать:**
- **Поле статистики (statPath)**: `Исход матча`
- **Тип статистики (statType)**: `Исход матча (П1/Х/П2)`

---

### Шаг 2: Создание группы исходов "Основные исходы"

Перейдите в **Группы исходов** → **Создать новый**

#### Заполните основное поле:

```
┌─────────────────────────────────────────────────────────────┐
│ ГРУППА ИСХОДОВ                                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ Название группы исходов *                                  │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ Основные исходы                                          ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ ┌─ ПРАВАЯ ЧАСТЬ (УСЛОВИЕ) ──────────────────────────────────┐│
│ │                                                            ││
│ │ [+ Добавить исход]                                        ││
│ │                                                            ││
│ └────────────────────────────────────────────────────────────┘│
│                                                              │
│ [Сохранить]                                                 │
└─────────────────────────────────────────────────────────────┘
```

---

### Шаг 3: Добавление исхода "П1"

Нажмите **[+ Добавить исход]** в разделе "ПРАВАЯ ЧАСТЬ (УСЛОВИЕ)"

#### Заполните поля для П1:

```
┌─────────────────────────────────────────────────────────────┐
│ ИСХОД #1                                                    │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ Название исхода *                                           │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ П1                                                       ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Оператор сравнения (comparisonOperator) *                  │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ Равно (=)                                              ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Область применения (scope)                                 │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ Обе команды (сумма)                                    ││
│ └──────────────────────────────────────────────────────────┘│
│ ℹ️ Для исходов не используется (игнорируется)              │
│                                                              │
│ Способ вычисления (aggregation)                            │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ По умолчанию (от scope)                                ││
│ └──────────────────────────────────────────────────────────┘│
│ ℹ️ Для исходов не используется (игнорируется)              │
│                                                              │
│ Значение исхода (outcomeValue) *                            │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ 1                                                        ││
│ └──────────────────────────────────────────────────────────┘│
│ ℹ️ 1 = П1 (первая команда выигрывает)                       │
│                                                              │
│ Значения (values)                                           │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ (пусто - не добавляйте значения)                         ││
│ └──────────────────────────────────────────────────────────┘│
│ ℹ️ Для исходов не нужны линии (1.5, 2.5 и т.д.)            │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**Что выбрать:**
- **Название исхода**: `П1`
- **Оператор сравнения**: `Равно (=)`
- **Область применения**: `Обе команды (сумма)` (не важно)
- **Способ вычисления**: `По умолчанию (от scope)` (не важно)
- **Значение исхода**: `1` ← **ГЛАВНОЕ!**
- **Значения**: оставить пусто

---

### Шаг 4: Добавление исхода "Х" (Ничья)

Нажмите **[+ Добавить исход]** ещё раз

#### Заполните поля для Х:

```
┌─────────────────────────────────────────────────────────────┐
│ ИСХОД #2                                                    │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ Название исхода *                                           │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ Х                                                        ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Оператор сравнения (comparisonOperator) *                  │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ Равно (=)                                              ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Область применения (scope)                                 │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ Обе команды (сумма)                                    ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Способ вычисления (aggregation)                            │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ По умолчанию (от scope)                                ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Значение исхода (outcomeValue) *                            │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ 0                                                        ││
│ └──────────────────────────────────────────────────────────┘│
│ ℹ️ 0 = Х (ничья)                                            ���
│                                                              │
│ Значения (values)                                           │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ (пусто)                                                  ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**Что выбрать:**
- **Название исхода**: `Х`
- **Оператор сравнения**: `Равно (=)`
- **Значение исхода**: `0` ← **ГЛАВНОЕ!**
- **Значения**: оставить пусто

---

### Шаг 5: Добавление исхода "П2" (Победа второй команды)

Нажмите **[+ Добавить исход]** в третий раз

#### Заполните поля для П2:

```
┌─────────────────────────────────────────────────────────────┐
│ ИСХОД #3                                                    │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│ Название исхода *                                           │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ П2                                                       ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Оператор сравнения (comparisonOperator) *                  │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ Равно (=)                                              ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Область применения (scope)                                 │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ Обе команды (сумма)                                    ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Способ вычисления (aggregation)                            │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ ▼ По умолчанию (от scope)                                ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
│ Значение исхода (outcomeValue) *                            │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ 2                                                        ││
│ └──────────────────────────────────────────────────────────┘│
│ ℹ️ 2 = П2 (вторая команда выигрывает)                       │
│                                                              │
│ Значения (values)                                           │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ (пусто)                                                  ││
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**Что выбрать:**
- **Название исхода**: `П2`
- **Оператор сравнения**: `Равно (=)`
- **Значение исхода**: `2` ← **ГЛАВНОЕ!**
- **Значения**: оставить пусто

---

### Шаг 6: Сохранение

Нажмите **[Сохранить]** в конце страницы

---

## Итоговая таблица для быстрого заполнения

| Исход | Название | Оператор | Значение исхода | Значения |
|-------|----------|----------|-----------------|----------|
| **П1** | П1 | Равно (=) | **1** | пусто |
| **Х** | Х | Равно (=) | **0** | пусто |
| **П2** | П2 | Равно (=) | **2** | пусто |

---

## Как это работает

```
Матч: Манчестер Юнайтед 2:1 Ливерпуль

Вычисление:
├─ homeScore = 2 (Манчестер)
├─ awayScore = 1 (Ливерпуль)
└─ outcome = 1 (П1 - первая команда выигрывает)

Проверка прогноза:
├─ Если прогноз П1 (outcomeValue = 1)
├─ И outcome === 1
└─ ✓ Прогноз выигрывает!
```

---

## Ключевые моменты

✅ **Для основных исходов (П1/Х/П2):**
- Поле статистики: **Исход матча**
- Тип статистики: **Исход матча (П1/Х/П2)**
- Оператор: **Равно (=)**
- Значение исхода: **1, 0 или 2**
- Значения: **пусто** (нет линий)

❌ **НЕ используйте:**
- Значения (1.5, 2.5 и т.д.) — это для тоталов
- Другие операторы (>, <, ≥, ≤) — только равно
- Область применения и способ вычисления — они игнорируются

---

## Связь маркета с группой исходов

После создания обеих сущностей:

1. Откройте маркет **"Основной исход"**
2. В поле **"Выберите группы исходов для этого маркета"** выберите **"Основные исходы"**
3. Сохраните

Теперь маркет и группа исходов связаны!
