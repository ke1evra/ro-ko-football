# üìä –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

## –û–±–∑–æ—Ä

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`/profile`) –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–≥–Ω–æ–∑–∞–º —Å –¥–≤—É–º—è –≤–∫–ª–∞–¥–∫–∞–º–∏:

1. **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ –≤—Å–µ–º –ø—Ä–æ–≥–Ω–æ–∑–∞–º
2. **–ú–æ–∏ –ø—Ä–æ–≥–Ω–æ–∑—ã** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. PredictionStatsCard

**–§–∞–π–ª:** `src/components/profile/PredictionStatsCard.tsx`

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤.

**–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- **–í—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏–π** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- **–í—ã–∏–≥—Ä–∞–ª–æ** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- **–ü—Ä–æ–∏–≥—Ä–∞–ª–æ** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ–∏–≥—Ä–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- **Hit Rate** - –ø—Ä–æ—Ü–µ–Ω—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏ (–≤—ã–∏–≥—Ä–∞–ª–æ / –≤—Å–µ–≥–æ)
- **ROI** - —Å—Ä–µ–¥–Ω–∏–π ROI –ø–æ –≤—Å–µ–º –ø—Ä–æ–≥–Ω–æ–∑–∞–º
- **–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ** - —Å–æ–±—ã—Ç–∏—è –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–º–∞—Ç—á –Ω–µ –æ–∫–æ–Ω—á–µ–Ω, –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- –°–µ—Ç–∫–∞ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**Props:**
```typescript
interface PredictionStatsCardProps {
  stats: {
    total: number
    won: number
    lost: number
    undecided: number
    hitRate: number
    roi: number
  }
}
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```tsx
<PredictionStatsCard stats={{
  total: 50,
  won: 30,
  lost: 15,
  undecided: 5,
  hitRate: 0.6,
  roi: 0.12
}} />
```

---

### 2. UserPredictionsList

**–§–∞–π–ª:** `src/components/profile/UserPredictionsList.tsx`

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–§—É–Ω–∫—Ü–∏–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ/—Å—Ç–∞—Ä—ã–µ) –∏ –∫–∞—á–µ—Å—Ç–≤—É (–ª—É—á—à–∏–µ/—Ö—É–¥—à–∏–µ)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (—Ä–∞—Å—Å—á–∏—Ç–∞–Ω/–≤ –æ–∂–∏–¥–∞–Ω–∏–∏)
- –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ (–≤—ã–∏–≥—Ä–∞–ª–æ/–≤—Å–µ–≥–æ, hit rate)
- –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞

**Props:**
```typescript
interface UserPredictionsListProps {
  userId: string
}
```

**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
- `recent` - –Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `oldest` - —Å—Ç–∞—Ä—ã–µ —Å–Ω–∞—á–∞–ª–∞
- `best` - –ª—É—á—à–∏–µ –ø–æ hit rate
- `worst` - —Ö—É–¥—à–∏–µ –ø–æ hit rate

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```tsx
<UserPredictionsList userId={user.id} />
```

---

## API –º–∞—Ä—à—Ä—É—Ç—ã

### 1. GET `/api/predictions/stats/[userId]`

–ü–æ–ª—É—á–∏—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (path parameter)

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "stats": {
    "total": 50,
    "won": 30,
    "lost": 15,
    "undecided": 5,
    "hitRate": 0.6,
    "roi": 0.12
  },
  "metadata": {
    "predictionsCount": 10,
    "settledCount": 8,
    "pendingCount": 2
  }
}
```

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ `predictionStats` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª—è `summary` –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏
3. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
   - `hitRate = won / total`
   - `roi = sum(roi) / predictionsCount`

---

### 2. GET `/api/predictions/user/[userId]`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (path parameter)
- `sort` - —Ç–∏–ø —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (query parameter):
  - `recent` - –Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - `oldest` - —Å—Ç–∞—Ä—ã–µ —Å–Ω–∞—á–∞–ª–∞
  - `best` - –ª—É—á—à–∏–µ –ø–æ hit rate
  - `worst` - —Ö—É–¥—à–∏–µ –ø–æ hit rate

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "predictions": [
    {
      "id": "post-id-1",
      "title": "–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–∞—Ç—á...",
      "createdAt": "2024-12-17T10:00:00Z",
      "status": "settled",
      "summary": {
        "total": 3,
        "won": 2,
        "lost": 1,
        "undecided": 0,
        "hitRate": 0.667,
        "roi": 0.15
      }
    }
  ],
  "total": 10
}
```

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã-–ø—Ä–æ–≥–Ω–æ–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞ –ø–æ–ª—É—á–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
4. –í–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ—Ñ–∏–ª—è

**–§–∞–π–ª:** `src/app/(frontend)/(site)/profile/page.tsx`

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ—Ñ–∏–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –≤–∫–ª–∞–¥–∫–∏:

### –í–∫–ª–∞–¥–∫–∞ "–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `PredictionStatsContainer` –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç `PredictionStatsCard` —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

### –í–∫–ª–∞–¥–∫–∞ "–ú–æ–∏ –ø—Ä–æ–≥–Ω–æ–∑—ã"
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `UserPredictionsList` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### PredictionStats (–∫–æ–ª–ª–µ–∫—Ü–∏—è)

```typescript
{
  id: string
  post: Relationship<Posts>
  author: Relationship<Users>
  status: 'pending' | 'settled'
  evaluatedAt: Date
  
  summary: {
    total: number        // –í—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏–π
    won: number          // –í—ã–∏–≥—Ä–∞–ª–æ
    lost: number         // –ü—Ä–æ–∏–≥—Ä–∞–ª–æ
    undecided: number    // –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
    hitRate: number      // 0..1
    roi: number          // -1..‚àû
  }
  
  details: Array<{
    event: string
    coefficient: number
    result: 'won' | 'lost' | 'undecided'
    reason?: string
  }>
  
  scoring: {
    points: number
    breakdown: JSON
  }
}
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```typescript
const response = await fetch(`/api/predictions/stats/${userId}`)
const data = await response.json()
console.log(data.stats.hitRate) // 0.6
```

### –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π

```typescript
// –õ—É—á—à–∏–µ –ø—Ä–æ–≥–Ω–æ–∑—ã
const response = await fetch(`/api/predictions/user/${userId}?sort=best`)
const data = await response.json()
console.log(data.predictions) // –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ hit rate (—É–±—ã–≤–∞–Ω–∏–µ)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```tsx
import { PredictionStatsCard } from '@/components/profile/PredictionStatsCard'
import { UserPredictionsList } from '@/components/profile/UserPredictionsList'

export function MyProfile({ userId }: { userId: string }) {
  return (
    <div className="space-y-8">
      <PredictionStatsCard stats={stats} />
      <UserPredictionsList userId={userId} />
    </div>
  )
}
```

---

## –°—Ç–∏–ª–∏ –∏ –¥–∏–∑–∞–π–Ω

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
- **shadcn/ui** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Card, Badge, Button, Select, Tabs)
- **Tailwind CSS** –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- **date-fns** –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç (—Ä—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª—å)

–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
- üü¢ –ó–µ–ª—ë–Ω—ã–π - –≤—ã–∏–≥—Ä—ã—à–∏, –ø—Ä–∏–±—ã–ª—å
- üî¥ –ö—Ä–∞—Å–Ω—ã–π - –ø—Ä–æ–∏–≥—Ä—ã—à–∏, —É–±—ã—Ç–∫–∏
- üü° –ñ—ë–ª—Ç—ã–π - –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- üîµ –°–∏–Ω–∏–π - –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ** - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É
3. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ 1000 –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å)

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞ (localStorage)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –¥–∞—Ç–∞–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (CSV, PDF)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã
node --loader @esbuild-kit/esm-loader scripts/prediction-stats/calculate-all.mjs

# –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è
# http://localhost:3100/profile
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
curl http://localhost:3100/api/predictions/stats/USER_ID

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã
curl http://localhost:3100/api/predictions/user/USER_ID?sort=best
```

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ - –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–¥—Å—á—ë—Ç–∞
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ AuthContext
3. API –º–∞—Ä—à—Ä—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
node --loader @esbuild-kit/esm-loader scripts/prediction-stats/calculate-all.mjs --force
```

### –ü—Ä–æ–≥–Ω–æ–∑—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ–≤–µ—Ä–Ω—ã–π userId
2. –ù–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –û—à–∏–±–∫–∞ –≤ API –º–∞—Ä—à—Ä—É—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ DevTools
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø–æ—Å—Ç—ã —Å `postType: 'prediction'`

---

## –§–∞–π–ª—ã

```
src/
‚îú‚îÄ‚îÄ components/profile/
‚îÇ   ‚îú‚îÄ‚îÄ PredictionStatsCard.tsx      # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ UserPredictionsList.tsx      # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
‚îú‚îÄ‚îÄ app/api/predictions/
‚îÇ   ‚îú‚îÄ‚îÄ stats/[userId]/route.ts      # API –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ user/[userId]/route.ts       # API –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
‚îî‚îÄ‚îÄ app/(frontend)/(site)/profile/
    ‚îî‚îÄ‚îÄ page.tsx                      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º –ø–æ–¥—Å—á—ë—Ç–∞](./PREDICTION_STATS_CALCULATION.md)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ PredictionStats](../src/collections/PredictionStats.ts)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Users](../src/collections/Users.ts)
