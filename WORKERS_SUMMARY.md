# üìã –°–≤–æ–¥–∫–∞ –ø–æ –≤–æ—Ä–∫–µ—Ä–∞–º

## –ß—Ç–æ –¥–µ–ª–∞—é—Ç –≤–æ—Ä–∫–µ—Ä—ã

### 1. –ò–º–ø–æ—Ä—Ç –º–∞—Ç—á–µ–π (matches-import-forward)
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ –º–∞—Ç—á–∏ –∏–∑ API LiveScore
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª**: –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- **–§–∞–π–ª**: `docker-compose.matches-import-forward.yml`
- **–ö–æ–º–∞–Ω–¥–∞**: `pnpm run matches:import:forward:loop`

### 2. –†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (prediction-stats)
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª**: –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- **–§–∞–π–ª**: `docker-compose.prediction-stats.yml`
- **–ö–æ–º–∞–Ω–¥–∞**: `pnpm run predictions:stats:calc:loop`

### 3. –ò–º–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ –º–∞—Ç—á–µ–π (matches-import-backward)
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–∞—Ç—á–∏
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª**: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ (–ø–æ–∫–∞ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ)
- **–§–∞–π–ª**: `docker-compose.matches-import-backward.yml`
- **–ö–æ–º–∞–Ω–¥–∞**: `pnpm run matches:import:backward:loop`

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –≤–æ—Ä–∫–µ—Ä–∞–º–∏

```
matches-import-forward ‚Üí prediction-stats
       ‚Üì                        ‚Üì
   –ú–∞—Ç—á–∏ –≤ –ë–î          –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
```

1. **matches-import-forward** –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Ç—á–∏ –∏ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
2. **prediction-stats** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–∞ –≤–æ—Ä–∫–µ—Ä–∞:
```bash
docker compose -f docker-compose.matches-import-forward.yml up -d
docker compose -f docker-compose.prediction-stats.yml up -d
```

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–ó–∞–ø—É—Å–∫–∞—Ç—å –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
```bash
# –¢–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç –º–∞—Ç—á–µ–π
pnpm run matches:import:forward

# –¢–æ–ª—å–∫–æ —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
pnpm run predictions:stats:calc
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –≤–æ—Ä–∫–µ—Ä–æ–≤
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps | grep -E 'matches_import|prediction_stats'

# –õ–æ–≥–∏
docker compose -f docker-compose.matches-import-forward.yml logs -f
docker compose -f docker-compose.prediction-stats.yml logs -f
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π
mongosh 'mongodb://...' --eval 'db.matches.countDocuments()'

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π
mongosh 'mongodb://...' --eval 'db.matches.countDocuments({status: "finished"})'

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
mongosh 'mongodb://...' --eval 'db.posts.countDocuments({postType: "prediction"})'

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
mongosh 'mongodb://...' --eval 'db.predictionstats.countDocuments()'
```

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π –∏–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: 
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–º–ø–æ—Ä—Ç –º–∞—Ç—á–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –µ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã –≤ –ë–î
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤–æ—Ä–∫–µ—Ä–∞

### –í–æ—Ä–∫–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞**: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `.env` —Ñ–∞–π–ª
2. ÔøΩÔøΩ—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker compose -f ... logs`

### –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î
**–ü—Ä–∏—á–∏–Ω–∞**: –°–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–π –∑–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ `package.json` –∏–ª–∏ docker-compose —Ñ–∞–π–ª–µ

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `WORKERS.md` ‚Äî –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `PREDICTION_STATS_DOCKER.md` ‚Äî –¥–µ—Ç–∞–ª–∏ –ø–æ —Ä–∞—Å—á–µ—Ç—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `QUICK_START_WORKERS.md` ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `docs/PREDICTION_STATS_CALCULATION.md` ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞
